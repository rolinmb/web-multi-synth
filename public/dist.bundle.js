(()=>{"use strict";var e=void 0,t=void 0,s=void 0,n=void 0,i=void 0,o=void 0,r=void 0,c=void 0,a=void 0,d=void 0,u=void 0,m=void 0,l=void 0,v=!0,g="tanh";const O={Z:{name:"C3",frequency:130.81,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},S:{name:"C#3/Dd3",frequency:138.59,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},X:{name:"D3",frequency:146.83,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},D:{name:"D#3/Eb3",frequency:155.56,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},C:{name:"E3",frequency:164.81,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},V:{name:"F3",frequency:174.61,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},G:{name:"F#3/Gb3",frequency:185,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},B:{name:"G3",frequency:196,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},H:{name:"G#3/Ab3",frequency:207.65,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},N:{name:"A3",frequency:220,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},J:{name:"A#3/Bb3",frequency:233.08,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},M:{name:"B3",frequency:246.94,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},Q:{name:"C4",frequency:261.63,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},2:{name:"C#4/Db4",frequency:277.18,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},W:{name:"D4",frequency:293.66,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},3:{name:"D#4/Eb4",frequency:311.13,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},E:{name:"E4",frequency:329.63,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},R:{name:"F4",frequency:349.23,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},5:{name:"F#4/Gb4",frequency:369.99,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},T:{name:"G4",frequency:392,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},6:{name:"G#4/Ab4",frequency:415.3,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},Y:{name:"A4",frequency:440,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},7:{name:"A#4/Bb4",frequency:466.16,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},U:{name:"B4",frequency:493.88,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},I:{name:"C5",frequency:523.25,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},9:{name:"C#5/Db5",frequency:554.37,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},O:{name:"D5",frequency:587.33,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},0:{name:"D#5/Eb5",frequency:622.25,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0},P:{name:"E5",frequency:659.25,isPressed:!1,sineOsc:void 0,squareOsc:void 0,sawtoothOsc:void 0,triangleOsc:void 0,customOsc:void 0}};function y(){let e={};for(const t in O)e[O[t].name]=O[t].isPressed;return e}var E={};function h(e,t){const s="number"==typeof t?t:50,n=44100,i=new Float32Array(n),o=Math.PI/180;let r=0;for(let t=0;t<n;t++){const c=2*t/n-1;switch(e){case"tanh":i[t]=Math.tanh(s*c);break;case"tanhsc":default:i[t]=(3+s)*c*20*o/(Math.PI+s*Math.abs(c));break;case"sine":i[t]=Math.sin(s*c);break;case"log1":i[t]=(s+1)*Math.log1p(c)/Math.log1p(s);break;case"log2":i[t]=Math.log(1+s*c*Math.abs(i[t]))/Math.log(1+s*c);break;case"pow":i[t]=(s*c-1/3)*Math.pow(s*c,3);break;case"sig":i[t]=2/(1+Math.exp(-s*c))-1;break;case"para":i[t]=s*c-Math.pow(s*c,2);break;case"fuzzy":i[t]=s*c/(1+s*Math.abs(c));break;case"filthy":i[t]=s*c*i[t];break;case"eo":i[t]=s*c*i[t]-s*Math.pow(s*c,3)/3;break;case"even":i[t]=Math.pow(c,2)*(1+s*Math.pow(c,2));break;case"odd":i[t]+=s*c*Math.pow(i[t],3)/3;break;case"rekt":i[t]=Math.abs(i[t])*s*c;break;case"or":case"xor":case"nor":case"xnor":case"and":case"nand":r=Math.floor(i[t]*Number.MAX_VALUE);const n="or"===e?1431655765:178956970,a="or"===e?r|n:"xor"===e?r^n:"nor"===e?~(r|n):"xnor"===e?r^~n:"and"===e?r&n:~(r&n);i[t]=s*c*(a/Number.MAX_VALUE)}}return i}function T(e,t){let s=document.getElementById("custom-waveform-canvas");const n=s.getContext("2d");if(!n)return void console.error("Error; <canvas> context not available.");const i=s.width,o=s.height;n.clearRect(0,0,i,o),n.beginPath();for(let s=0;s<i;s++){const r=s/i*2-1,c=((e.reduce(((e,t,s)=>e+t*Math.cos(s*Math.PI*r)),0)+t.reduce(((e,t,s)=>e+t*Math.sin(s*Math.PI*r)),0))/2+.5)*o;0===s?n.moveTo(s,c):n.lineTo(s,c)}n.strokeStyle="blue",n.lineWidth=2,n.stroke()}document.onkeydown=g=>{let h=String(g.key).toUpperCase();if(E[h]=!0,document.getElementById("key-view").innerHTML=JSON.stringify(E),h in O){const g=O[h];if(!g.isPressed){g.isPressed=!0;const O=g.frequency;let y=e.createOscillator();y.type="sine",y.frequency.setValueAtTime(O,e.currentTime),y.connect(c).connect(n).connect(i).connect(o).connect(r).connect(t);let E=e.createOscillator();E.type="square",E.frequency.setValueAtTime(O,e.currentTime),E.connect(a).connect(n).connect(i).connect(o).connect(r).connect(t);let h=e.createOscillator();h.type="sawtooth",h.frequency.setValueAtTime(O,e.currentTime),h.connect(d).connect(n).connect(i).connect(o).connect(r).connect(t);let T=e.createOscillator();T.type="triangle",T.frequency.setValueAtTime(O,e.currentTime),T.connect(u).connect(n).connect(i).connect(o).connect(r).connect(t);let f=e.createOscillator();f.setPeriodicWave(l),f.frequency.setValueAtTime(O,e.currentTime),f.connect(m).connect(n).connect(i).connect(o).connect(r).connect(t),t.connect(s).connect(e.destination),v||(y.start(),E.start(),h.start(),T.start(),f.start()),g.sineOsc=y,g.squareOsc=E,g.sawtoothOsc=h,g.triangleOsc=T,g.customOsc=f}}document.getElementById("note-press-view").innerHTML=JSON.stringify(y())},document.onkeyup=e=>{let t=String(e.key).toUpperCase();if(E[t]=!1,document.getElementById("key-view").innerHTML=JSON.stringify(E),t in O){const e=O[t];e.isPressed=!1;try{e.sineOsc.stop(),e.squareOsc.stop(),e.sawtoothOsc.stop(),e.triangleOsc.stop(),e.customOsc.stop()}catch(e){}e.sineOsc=void 0,e.squareOsc=void 0,e.sawtoothOsc=void 0,e.triangleOsc=void 0,e.customOsc=void 0}document.getElementById("note-press-view").innerHTML=JSON.stringify(y())},document.getElementById("mute-unmute-btn").addEventListener("click",(function(){v=!v,document.getElementById("mute-unmute-btn").innerHTML=v?"unmute":"mute";for(const e in O){const t=O[e];t.isPressed&&(t.sineOsc.stop(),t.squareOsc.stop(),t.sawtoothOsc.stop(),t.triangleOsc.stop(),t.customOsc.stop()),t.sineOsc=void 0,t.squareOsc=void 0,t.sawtoothOsc=void 0,t.triangleOsc=void 0,t.customOsc=void 0}})),document.getElementById("master-gain-slider").addEventListener("input",(function(){let t=document.getElementById("master-gain-slider").valueAsNumber;s.gain.setValueAtTime(t,e.currentTime),document.getElementById("master-gain-view").innerHTML=t.toString()})),document.getElementById("master-threshold-slider").addEventListener("input",(function(){let s=document.getElementById("master-threshold-slider").valueAsNumber;t.threshold.setValueAtTime(s,e.currentTime),document.getElementById("master-threshold-view").innerHTML=s.toString()})),document.getElementById("master-knee-slider").addEventListener("input",(function(){let s=document.getElementById("master-knee-slider").valueAsNumber;t.knee.setValueAtTime(s,e.currentTime),document.getElementById("master-knee-slider").innerHTML=s.toString()})),document.getElementById("master-ratio-slider").addEventListener("input",(function(){let s=document.getElementById("master-ratio-slider").valueAsNumber;t.ratio.setValueAtTime(s,e.currentTime),document.getElementById("master-ratio-view").innerHTML=s.toString()})),document.getElementById("master-attack-slider").addEventListener("input",(function(){let s=document.getElementById("master-attack-slider").valueAsNumber;t.attack.setValueAtTime(s,e.currentTime),document.getElementById("master-attack-view").innerHTML=s.toString()})),document.getElementById("master-release-slider").addEventListener("input",(function(){let s=document.getElementById("master-release-slider").valueAsNumber;t.release.setValueAtTime(s,e.currentTime),document.getElementById("master-release-view").innerHTML=s.toString()})),document.getElementById("master-distortion-slider").addEventListener("input",(function(){let e=document.getElementById("master-distortion-slider").valueAsNumber;n.curve=h(g,e),document.getElementById("master-distortion-view").innerHTML=e.toString()})),document.getElementById("master-distortion-type-select").addEventListener("change",(function(){let e=document.getElementById("master-distortion-type-select"),t=document.getElementById("master-distortion-slider").valueAsNumber;n.curve=h(e.value,t)})),document.getElementById("master-distortion-oversample-select").addEventListener("change",(function(){let e=document.getElementById("master-distortion-oversample-select");n.oversample=e.value})),document.getElementById("master-delay-slider").addEventListener("input",(function(){let t=document.getElementById("master-delay-slider").valueAsNumber;i.delayTime.setValueAtTime(t,e.currentTime),document.getElementById("master-delay-view").innerHTML=t.toString()})),document.getElementById("master-panning-slider").addEventListener("input",(function(){let t=document.getElementById("master-panning-slider").valueAsNumber;o.pan.setValueAtTime(t,e.currentTime),document.getElementById("master-panning-view").innerHTML=t.toString()})),document.getElementById("sine-gain-slider").addEventListener("input",(function(){let t=document.getElementById("sine-gain-slider").valueAsNumber;c.gain.setValueAtTime(t,e.currentTime),document.getElementById("sine-gain-view").innerHTML=t.toString()})),document.getElementById("square-gain-slider").addEventListener("input",(function(){let t=document.getElementById("square-gain-slider").valueAsNumber;a.gain.setValueAtTime(t,e.currentTime),document.getElementById("square-gain-view").innerHTML=t.toString()})),document.getElementById("sawtooth-gain-slider").addEventListener("input",(function(){let t=document.getElementById("sawtooth-gain-slider").valueAsNumber;d.gain.setValueAtTime(t,e.currentTime),document.getElementById("sawtooth-gain-view").innerHTML=t.toString()})),document.getElementById("triangle-gain-slider").addEventListener("input",(function(){let t=document.getElementById("triangle-gain-slider").valueAsNumber;u.gain.setValueAtTime(t,e.currentTime),document.getElementById("triangle-gain-view").innerHTML=t.toString()})),document.getElementById("custom-gain-slider").addEventListener("input",(function(){let t=document.getElementById("custom-gain-slider").valueAsNumber;m.gain.setValueAtTime(t,e.currentTime),document.getElementById("custom-gain-view").innerHTML=t.toString()})),document.getElementById("custom-harmonics-slider").addEventListener("input",(function(){let e=document.getElementById("custom-harmonics-slider").valueAsNumber;document.getElementById("custom-harmonics-view").innerHTML=e.toString()})),document.getElementById("gen-custom-wave-btn").addEventListener("click",(function(){const t=document.getElementById("custom-harmonics-slider").valueAsNumber;let s=[],n=[];for(let e=1;e<=t;e++)s.push(0),e%2==1?n.push(1/e):n.push(0);l=e.createPeriodicWave(s,n),T(s,n)})),window.addEventListener("load",(function(){try{e=new AudioContext,(s=e.createGain()).gain.setValueAtTime(.125,e.currentTime),document.getElementById("master-gain-slider").value=String(.125),(t=e.createDynamicsCompressor()).threshold.setValueAtTime(-50,e.currentTime),t.knee.setValueAtTime(40,e.currentTime),t.ratio.setValueAtTime(12,e.currentTime),t.attack.setValueAtTime(0,e.currentTime),t.release.setValueAtTime(.25,e.currentTime),document.getElementById("master-threshold-slider").value=String(-50),document.getElementById("master-knee-slider").value=String(40),document.getElementById("master-ratio-slider").value=String(12),document.getElementById("master-attack-slider").value=String(0),document.getElementById("master-release-slider").value=String(.25),(n=e.createWaveShaper()).curve=h(g,0),n.oversample="2x",document.getElementById("master-distortion-slider").value=String(10),document.getElementById("master-delay-slider").value=String(.01),(i=e.createDelay(3)).delayTime.setValueAtTime(.01,e.currentTime),document.getElementById("master-panning-slider").value=String(0),(r=e.createBiquadFilter()).frequency.setValueAtTime(14e3,e.currentTime),r.detune.setValueAtTime(0,e.currentTime),r.Q.setValueAtTime(0,e.currentTime),r.gain.setValueAtTime(1,e.currentTime),document.getElementById("master-filter-frequency-slider").value=String(14e3);let v=document.getElementById("master-filter-detune-slider");v.value=String(0),document.getElementById("master-filter-qfactor-slider").value=String(0),document.getElementById("master-filter-gain-slider").value=String(1),v.type="lowpass",(o=e.createStereoPanner()).pan.setValueAtTime(0,e.currentTime),(c=e.createGain()).gain.setValueAtTime(.125,e.currentTime),(a=e.createGain()).gain.setValueAtTime(.125,e.currentTime),(d=e.createGain()).gain.setValueAtTime(.125,e.currentTime),(u=e.createGain()).gain.setValueAtTime(.125,e.currentTime);let O=document.getElementsByClassName("waveform-slider");for(let e=0;e<O.length;e++)O[e].value=String(.125);(m=e.createGain()).gain.setValueAtTime(0,e.currentTime),document.getElementById("custom-gain-slider").value=String(0);let y=[],E=[];for(let e=1;e<=4;e++)y.push(0),e%2==1?E.push(1/e):E.push(0);l=e.createPeriodicWave(y,E),T(y,E),document.getElementById("custom-harmonics-slider").value=String(4)}catch(e){alert("The JavaScript Web Audio API is not supported by this browser.")}}))})();
//# sourceMappingURL=dist.bundle.js.map